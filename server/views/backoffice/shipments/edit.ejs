<form action="/bo/shipments/edit/<%= shipment.id %>" method="POST">
  <div class="mb-3">
    <label for="tracking_number" class="form-label">Tracking Number</label>
    <input type="text" class="form-control" id="tracking_number" name="tracking_number" value="<%= formData.tracking_number || '' %>" required>
  </div>

  <div class="mb-3">
    <label for="sender_office_id" class="form-label">Sender Office</label>
    <select class="form-select" id="sender_office_id" name="sender_office_id" required>
      <option value="">Select sender office</option>
      <% offices.forEach(o => { %>
        <option value="<%= o.id %>" <%= formData.sender_office_id == o.id ? 'selected' : '' %>><%= o.name %></option>
      <% }) %>
    </select>
  </div>

  <div class="mb-3">
    <label for="sender_id" class="form-label">Sender</label>
    <select class="form-select" id="sender_id" name="sender_id" required>
      <option value="">Select sender</option>
      <% users.forEach(u => { %>
        <option value="<%= u.id %>" <%= formData.sender_id == u.id ? 'selected' : '' %>><%= u.username %></option>
      <% }) %>
    </select>
  </div>

  <% if (receiverUser) { %>
    <div class="mb-3">
      <label for="receiver_id" class="form-label">Receiver</label>
      <input type="text" class="form-control" id="receiver_id" value="<%= receiverUser.username %>" disabled>
    </div>
  <% } else { %>
    <div class="mb-3">
      <label for="receiver_id" class="form-label">Receiver</label>
      <select class="form-select" id="receiver_id" name="receiver_id">
        <option value="">Select receiver</option>
        <% users.forEach(u => { %>
          <option value="<%= u.id %>" <%= formData.receiver_id == u.id ? 'selected' : '' %>><%= u.username %></option>
        <% }) %>
      </select>
    </div>
  <% } %>

  <div class="mb-3">
    <label for="recipient_first_name" class="form-label">Recipient First Name</label>
    <input type="text" class="form-control" id="recipient_first_name" name="recipient_first_name" value="<%= formData.recipient_first_name || '' %>">
  </div>

  <div class="mb-3">
    <label for="recipient_last_name" class="form-label">Recipient Last Name</label>
    <input type="text" class="form-control" id="recipient_last_name" name="recipient_last_name" value="<%= formData.recipient_last_name || '' %>">
  </div>

  <div class="mb-3">
    <label for="delivery_address" class="form-label">Delivery Address</label>
    <input type="text" class="form-control" id="delivery_address" name="delivery_address" value="<%= formData.delivery_address || '' %>" required>
  </div>

  <div class="mb-3">
    <label for="weight" class="form-label">Weight (kg)</label>
    <input type="number" step="0.01" class="form-control" id="weight" name="weight" value="<%= formData.weight || '' %>" required>
  </div>

  <div class="mb-3">
    <label for="price" class="form-label">Price (â‚¬)</label>
    <input type="number" step="0.01" class="form-control" id="price" name="price" value="<%= formData.price || '' %>" required>
  </div>

  <div class="mb-3">
    <label for="description" class="form-label">Description</label>
    <textarea class="form-control" id="description" name="description"><%= formData.description || '' %></textarea>
  </div>

  <div class="mb-3">
    <label for="status" class="form-label">Status</label>
    <select class="form-select" id="status" name="status" required>
      <% ['pending', 'registered', 'shipped', 'delivered', 'cancelled'].forEach(st => { %>
        <option value="<%= st %>" <%= formData.status === st ? 'selected' : '' %>><%= st.charAt(0).toUpperCase() + st.slice(1) %></option>
      <% }) %>
    </select>
  </div>

  <button type="submit" class="btn btn-primary">Update Shipment</button>
</form>
